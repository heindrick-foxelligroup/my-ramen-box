/* Do not edit this file to avoid losing your changes when upgrade the theme */
var BT={selectors:{sidebar:{btn:".bt-sidebar-btn",box:".bt-sidebar",closeBtnCanvas:".bt-sidebar__close",closeSidebarBtn:".close-menu-btn",openClass:"open-sidebar-canvas",overlayClass:"overlay--sidebar"},overlay:".overlay",showOverlayClass:"show-overlay",slider:{useTouchMobile:"use-touch-mobile",default:".use-slider",overFloatClasses:"ov-slider-tb ov-slider-mb hide-in-loading"},desktopNav:{topItem:".nav__item",parentItem:".nav__item--parent",dropdown:".nav__item__dropdown",parentNav:".header__wrap"},verticalNav:{topItem:".nav__item--ver",parentItem:".nav__item--parent",dropdown:".nav__item__dropdown",parentNav:".main-nav--ver"},dropdown:{wrap:".bt-dropdown",trigger:".bt-dropdown__trigger",content:".bt-dropdown__content"},productGroup:{wrap:".pg",option:".pg__option",swatch:".pg__option__values",optionValue:".pg__option__value",mainImg:".pg__main-image",thumbs:".pg__thumbs",thumbsSmallClass:"pg__thumbs--small",thumbsLargeClass:".pg__thumbs--large",thumbsSlider:".pg__thumbs--slider",thumbsSliderVerticalClass:"pg__thumbs--slider-vertical",thumb:".pg__thumb",thumbLink:".pg__thumb__link",mains:".pg__mains",mainsSlider:".pg__mains--slider",main:".pg__main",mainLink:".pg__main__link",mainLinkModel:".pg__main__link--model",price:".product-price",cartBtn:".add-cart-btn",cartBtnState:".add-cart-btn--state",variantId:".variant-id",variantTitle:".pg__variant-title",loadingClass:"loading-data",groupData:".group-data",reCalcIndexClass:"re-calc-index",imgZoom:".cloudzoom",countdown:".pg__countdown-js",syncUrl:".pg__sync-url",labelDeal:".lb-item--sale",labelPercent:".lb__percent",stickySmallPrice:".sc__small-price",singleProgress:".product-single__progress",stockText:".pg__stock-text",stockText1:".pg__stock-text1",stockText2:".pg__stock-text2",stockNumber:".pg__stock-number--update",video:".pg__video",videoYoutube:".pg__video--youtube",videoVimeo:".pg__video--vimeo",sku:".pg__sku",ignoreLightBoxClass:"ignore-lightbox",swatchOutStock:"swatch__item--soldout",storePickupWrap:".store-availability-container",storePickupInner:".store-availability-inner",storePickupBtn:".store-availability-information__button",storePickupModel:"#storePickupPopup",storePickupProductTitle:".store-availabilities-modal__product-title",storePickupVariantTitle:".store-availabilities-modal__variant-title"},cart:{addBtn:".add-cart-btn",updateBtn:".update-cart-btn",header:".header__cart",headerTriggerDesktop:".header__cart-trigger-desktop",headerTriggerMobile:".header__cart-trigger-mobile",number:".cart-number",total:".cart-total",selectOptionClass:"select-option",qtyInput:".cart__qty-input"},qtyBox:{ctrlBtn:".qty-box__ctrl",decreaseBtnClass:"qty-box__ctrl--descrease",increaseBtnClass:"qty-box__ctrl--increase",inputSyncClass:"qty-box__input--sync"},mediaBtn:".button--media",loadingAjaxClass:"loading-ajax",workingClass:"working",qvBtn:".button--qv",qvPopup:"#quickViewPopup",selectOptionBtn:".button--select-option",selectOptionPopup:"#selectOptionPopup",compare:{popup:"#comparePopup",btn:".button--cp",removeBtn:".button-cp--remove",variantId:".variant-id--compare",actionsRow:".actions-row",availabilityRow:".availability-row",bestPriceBadge:".compare-popup__badge",headerLink:".header__link--compare",number:".compare-number"},wishlist:{popup:"#wishlistPopup",btn:".button--wl",btnWithText:".button--wl-text",btnText:".wishlist-text",removeBtn:".button-wl--remove",headerLink:".header__link--wishlist",number:".wishlist-number"},waitingData:".waiting-data",waitingTabData:".waiting-tab-data",waitingScrollData:".waiting-scroll-data",loadMoreBtn:".button--more",loadingFull:".loading-full",cartMessage:".cart-message",cartModal:{wrap:"#cartModal",productImage:".cart-response__image",productName:".cart-response__name",variantTitle:".cart-response__meta-variant-title-wrap",variantProp:".cart-response__meta-propeties",price:".cart-response__price .product-price__price",linePrice:".cart-response__line-price .product-price__price",qty:".cart-response__qty",freeShippingText:".cart-response__free-shipping__text",freeShippingProgressBar:".progress-bar--popup-cart"},notify:".notify",notifyClassTypes:"alert-success alert-danger",floatField:".field--float-label",floatFieldFirstFocus:".first-focus",rp:{wrap:".rp",item:".rp__item",minuteNumber:".rp__minute-number",closeBtn:".rp__close"},newsPopup:{id:"#newsletterPopup",checkbox:"#newsPopupHide"},newsTerms:{form:".newsletter-form",input:".news-terms-input",error:".news-terms-error"},promo:{wrap:".promo",closeBtn:".promo__close",list:".promo__list"},upsell:{wrap:".upsell-ele",list:".upsell-list"},related:{wrap:".related-ele",list:".related-list"},loadingNotFull:".loading-not-full",infiniteScroll:{button:".infinite-scroll",wait:".wait-infinite-scroll"},cartTerms:{wrap:".cart-terms",popup:"#termsPopup",checkbox:".terms-check",label:".cart-terms__label",checkoutBtn:".checkout-btn",paymentBtn:".shopify-payment-button,.additional-checkout-buttons"},popupVideo:{btn:".video-thumbnail",youtubeBtn:".js-modal-btn--youtube",vimeoBtn:".js-modal-btn--vimeo"},searchFull:{wrap:".search-full",trigger:".search-full-trigger",content:".search-full__content",input:".search-full__input",inputSync:".search-full__input-sync",loading:".search-full__loading",close:".search-full__close-js",tabTitle:".search-full__tab-title",tabList:".search-full__tab-list",tabContent:".search-full__content__tab",result:".search-full__result",loadedClass:"loaded",suggestProducts:".search-full__suggest-products"},ringClass:"ring-animation",ajaxSnippet:".load-ajax-snippet"},options:{dropdown:{duration:150,overlaySuffixEvent:"bt-dropdown",noOverLayClass:"nooverlay"},sidebar:{duration:500,openEvent:"click",closeEvent:"click",overlaySuffixEvent:"bt-sidebar"},slider:{slidesToShow:4,slidesToScroll:1,dots:!1,focusOnSelect:!1,infinite:!1,swipe:!0,swipeToSlide:!0,rtl:rtl,nextArrow:'<button aria-label="button" class="slick-next lh1"><span></span></button>',prevArrow:'<button aria-label="button" class="slick-prev lh1"><span></span></button>',responsive:[{breakpoint:768,settings:{slidesToShow:2}}]},productGroup:{smallSlider:{slidesToShow:5,slidesToScroll:1,swipeToSlide:!0,infinite:!1,focusOnSelect:!0,centerMode:!1,rtl:rtl,nextArrow:'<button aria-label="button" class="slick-next lh1 slick-box"><span></span></button>',prevArrow:'<button aria-label="button" class="slick-prev lh1 slick-box"><span></span></button>',responsive:[{breakpoint:992,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:5}}]},mainSlider:{slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!1,infinite:!1,swipeToSlide:!0,dots:!1,adaptiveHeight:!0,lazyLoad:"ondemand",rtl:rtl,nextArrow:'<button aria-label="button" class="slick-next lh1 slick-box"><span></span></button>',prevArrow:'<button aria-label="button" class="slick-prev lh1 slick-box"><span></span></button>'}},windowScreen:{desktop:768,mobile:767},productZoom:{zoomSizeMode:"image",autoInside:!0,tintOpacity:0,zoomPosition:"inside"},countdown:{dealCountdownReg:"([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})",dealCountdownTpl:$("#bt_countdown_html").html()},compare:{cookieName:"bt-compare",firstLoaded:!1},wishlist:{cookieName:"bt-wishlist"},productNameHolder:"product_title",notifyDuration:300,notifyTimeout:3e3,notifyClassTypes:{success:"success",danger:"danger"},rp:{cookieName:"rp_hide",duration:700},newsPopup:{cookieName:"hide_news_popup"},promo:{cookieName:"hide_promo"},cartTerms:{cookieName:"cart_terms"},newsTerms:{cookieName:"news_terms"},recentView:{cookieName:"recent_view_products"},overlay:{openPrefixEvent:"showOverlay.",hidePrefixEvent:"hideOverlay."},desktopNav:{overlaySuffixEvent:"hoz-megamenu",view:"navigation"},verticalNav:{view:"navigation-vertical"}},data:{productGroup:{},outStockGroup:{},updatingProductOptions:!1,productVideo:{currentPlayer:null,currentType:null,loadYoutubeApi:!1,loadVimeoApi:!1,vimeoPlayers:{}},productGroupInfiniteScroll:{},updateCartRequests:[],favicon:null,zoom:{single:null,quickView:null},rp:{openTimeInterval:null},modalVideoWorking:!1,loadedSnippets:[],thresholdMenu:0,stickyMenuObj:null,resizeEventName:"bt_resize_window",scrollEventName:"bt_scroll_window",cacheWindowWidth:$(window).width(),isTouchDevide:!1,thresholdMenuWithPromotion:33,sliderIndex:0,wishlist:{loaded:!1},cookieArray:{},pageLoaded:!1,searchSuggestionCurrentType:"product",searchSuggestionCurrentAjaxRequest:null,customColorCodes:null,customColorCodesLoading:!1,customColorCodesStack:[],initTopBar:!1,ajaxSetup:!1,openingDesktopNav:!1},shuffleArray:function(t){for(var e=t.length-1;0<e;e--){var i=Math.floor(Math.random()*(e+1)),a=t[e];t[e]=t[i],t[i]=a}return t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},getCookie:function(t){try{return $.cookie(t)}catch(t){}},setCookie:function(t,e,i){try{var a={path:"/"};a.expires=i||7,$.cookie(t,e,a)}catch(t){}},stripScripts:function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=e.getElementsByTagName("script"),a=i.length;a--;)i[a].parentNode.removeChild(i[a]);return e.innerHTML},callAjax:function(t,e,i,a,o,s){var n=this;return $.ajax({type:e,url:t,data:i,dataType:a,error:function(t,e,i){n.hideLoadingFull(),null!=t.responseJSON&&(null!=t.responseJSON.description&&null!=t.responseJSON.description?n.showNotify(t.responseJSON.description,n.options.notifyClassTypes.danger):null!=t.responseJSON.message&&n.showNotify(t.responseJSON.message,n.options.notifyClassTypes.danger)),s&&s()},success:function(t){o(t)}})},renderSectionByAjaxApi:function(t,e,i){var a=e;a.section_id=t,a.page=2,this.callAjax(theme.currentUrl,"GET",a,null,i)},requestUpdateCart:function(t,e,i,a){$(this.data.updateCartRequests).each(function(t,e){e&&4!=e.readyState&&e.abort()}),this.data.updateCartRequests=[],this.data.updateCartRequests.push(this.callAjax(theme.cartChangeUrl,"POST",{line:t,quantity:e},"json",function(t){i&&i(t)},a))},requestEmptyCart:function(e){this.callAjax(theme.cartClearUrl,"POST",{},"json",function(t){e&&e(t)})},resizeImage:function(t,e){try{if("original"==e)return t;var i=t.match(/(.*\/[\w\-\_\.]+)\.(\w{2,4})/);return i[1]+"_"+e+"."+i[2]}catch(e){return t}},isInViewport:function(t,e){var i=t.offset().top,a=i+t.outerHeight(),o=$(e).scrollTop(),s=o+$(e).height();return o<a&&i<s},rteWrapTable:function(t){t.find("table").each(function(){$(this).removeAttr("style").removeAttr("border").addClass("table table-bordered table-striped").wrap('<div class="table-responsive"></div>')})},rteWrapEmbed:function(t){t.find(".embed-responsive-item,iframe,embed,object,video").each(function(){$(this).css("max-width","100%")})},rteWrap:function(t){"string"==typeof t&&(t=$(t)),t.hasClass("rte-wrapped")||(this.rteWrapTable(t),this.rteWrapEmbed(t),t.addClass("rte-wrapped"))},startLoadingBtn:function(t){t.find("i").addClass(this.selectors.loadingAjaxClass)},endLoadingBtn:function(t){t.find("i").removeClass(this.selectors.loadingAjaxClass)},showLoadingFull:function(){this.data.initTopBar||(topbar.config(topbarConfig),this.data.initTopBar=!0),topbar.show()},hideLoadingFull:function(){topbar.hide()},getPriceHtml:function(t){return theme.Currency.formatMoney(t,theme.moneyFormat)},handleString:function(t){return t.toLowerCase().replace(/\"/g,"").replace(/\'/g,"").replace(/[\(,\*,\)]/g,"").replace(/  /g," ").replace(/ /g,"-")},convertCurrencySilence:function(t){BtCurrency.convertSilence(shopCurrency,BtCurrency.currentCurrency,t)},callSnippetAjax:function(t,e){this.callAjax(theme.rootUrl,"GET",{view:"snippet",q:t},null,function(t){e(t)})},loadSnippetAjax:function(e,i,a){if(-1<this.data.loadedSnippets.indexOf(e))i();else{var o=this;this.callSnippetAjax(e,function(t){o.data.loadedSnippets.push(e),0==$(".snippet-error",t).length&&($("body").append(t),setTimeout(function(){i()},a||300))})}},processSameId:function(s){var t=s.match(/data-clone-id=\"(.*?)\"/g);return null!=t&&$.each(t,function(t,e){var i=e.replace(/data-clone-id=/g,"").replace(/"/g,""),a="clone-"+Math.floor(100*Math.random()),o=new RegExp(i,"g");s=s.replace(o,a)}),s},showPopup:function(t){var e=0,i=this,a=t.replace("#","");0<$(".modal.in:not(."+a+")").length&&($(".modal.in:not(."+a+")").each(function(){i.hidePopup("#"+$(this).attr("id"))}),e=500),setTimeout(function(){$(t).modal("show")},e)},hidePopup:function(t){$(t).modal("hide")},showNotify:function(t,e){var i=$(this.selectors.notify),a=this;i.removeClass(this.selectors.notifyClassTypes),i.addClass("alert-"+e),i.html(t),i.hasClass("active")?(this.data.notifyTimeout&&clearTimeout(this.data.notifyTimeout),this.hideNotify()):i.slideDown(a.options.notifyDuration,function(){i.addClass("active"),a.hideNotify()})},hideNotify:function(){var t=$(this.selectors.notify),e=this;this.data.notifyTimeout=setTimeout(function(){t.slideUp(e.options.notifyDuration,function(){t.removeClass("active")})},this.options.notifyTimeout)},showOverlay:function(t){$("body").addClass(this.selectors.showOverlayClass),$(this.selectors.overlay).attr("data-event",t)},hideOverlay:function(){$("body").removeClass(this.selectors.showOverlayClass),$(this.selectors.overlay).removeAttr("data-event")},hideOverlayWithEvent:function(){$(document).trigger(this.options.overlay.hidePrefixEvent+$(this.selectors.overlay).attr("data-event")),this.hideOverlay()},initOverlay:function(){var t=this;$(document).on("click",this.selectors.overlay,function(){t.hideOverlayWithEvent()})},runLoadingDropdownNavInAjax:function(t,e,i){var a=this.selectors[e].parentItem,o=this.selectors[e].dropdown,s=(this.options[e].view,$(t).attr("data-section-id"));this.callAjax(theme.rootUrl,"GET",{view:"ajax",section_id:s},null,function(e){$(t).find(a).each(function(){var t="#"+$(this).attr("id");$(this).append($(t,e).children(o))}),i()})},openMobileNav:function(){$(".mobile-nav").find(".link-list__item__link.active").each(function(){$(this).parents(".link-list__item__dropdown").each(function(){var t=$(this);t.show(),t.parent(".link-list__item").addClass("open")})})},initMobileNavigation:function(){var o="open",s=this.selectors.workingClass;function n(t,e){t.hasClass(s)||(t.addClass(s),t.children(".mobile-nav__children").hide(),t.removeClass(s),e&&e())}$(document).on("click",".mobile-nav__arrow",function(t){t.preventDefault();var e,i=$(this),a=$(this).parents(".mobile-nav__item").first();a.hasClass(s)||(a.hasClass(o)?(a.removeClass(o),n(a)):(a.addClass(o),(e=a).hasClass(s)||(e.addClass(s),e.children(".mobile-nav__children").fadeIn(300,function(){e.removeClass(s)})),a.siblings("."+o).each(function(){var t=i.position().top-60;$(this).removeClass(o),n($(this),function(){BT.isInViewport(i,window.self)||a.parents(".bt-sidebar__inner").scrollTop(t)}.bind(this))})))})},showDropdown:function(t){var e=this;t.find(".load-header-cart").each(function(){$(this).removeClass("load-header-cart"),$(this).html(e.processSameId($("#header-cart-canvas").html()))}),t.addClass("active"),t.hasClass(this.options.dropdown.noOverLayClass)||this.showOverlay(this.options.dropdown.overlaySuffixEvent)},hideDropdown:function(t){t.removeClass("active"),t.hasClass(this.options.dropdown.noOverLayClass)||this.hideOverlay()},initDropdown:function(){var a=this.selectors.dropdown,o=this,t=(this.selectors.overlay,this.options.overlay.hidePrefixEvent+this.options.dropdown.overlaySuffixEvent);$(document).on("mouseenter",a.wrap,function(){o.data.isTouchDevide||o.showDropdown($(this))}).on("mouseleave",a.wrap,function(t){o.data.isTouchDevide||$(t.target).is(":focus")||o.hideDropdown($(this))}),$(document).on("click",a.trigger,function(t){if(o.data.isTouchDevide){t.preventDefault();var e=$(this).parents(a.wrap).first();if(e.hasClass("active"))o.hideDropdown(e);else{var i=e.attr("data-group");null!=i&&$(a.wrap+'[data-group="'+i+'"].active').removeClass("active"),o.showDropdown(e)}}}),$(document).on(t,function(t){0<$(a.wrap+".active").length&&$(a.wrap+".active").removeClass("active")})},getInputFloatSelector:function(){var t=this.selectors.floatField;return t+' input[type="text"],'+t+' input[type="password"],'+t+' input[type="number"],'+t+' input[type="email"],'+t+' input[type="tel"]'},initFloatField:function(){var t=this.selectors.floatField,e=this.getInputFloatSelector();$(document).on("focus",e,function(){$(this).parents(t).addClass("active focus")}),$(document).on("blur",e,function(){""==$(this).val()&&$(this).parents(t).removeClass("active"),$(this).parents(t).removeClass("focus")}),0<$(this.selectors.floatFieldFirstFocus).length&&$(this.selectors.floatFieldFirstFocus).parents(t).addClass("active focus")},detectAutoFields:function(){var e=this.selectors.floatField,t=this.getInputFloatSelector();$(t).each(function(){try{""==$(this).val()&&!$(this).is(":-webkit-autofill")||$(this).parents(e).addClass("active")}catch(t){""!=$(this).val()&&$(this).parents(e).addClass("active")}})},loadCssJsLib:function(i,t){if(-1<theme.loadedLibs.indexOf(i))t&&t();else if(null!=theme.libs[i]){var e=theme.libs[i].css,a=theme.libs[i].js;null!=e&&-1==theme.loadedCssLibs.indexOf(i)&&(theme.loadedCssLibs.push(i),$.each(e,function(t,e){$("<link/>",{rel:"stylesheet",type:"text/css",href:"https:"+e}).appendTo("head")})),null!=a?null==theme.pendingJsLibs[i]?(theme.pendingJsLibs[i]=[],0==this.data.ajaxSetup&&($.ajaxSetup({cache:!0}),this.data.ajaxSetup=!0),$.getScript("https:"+a).then(function(){theme.loadedLibs.push(i),t&&t(),$.each(theme.pendingJsLibs[i],function(t,e){e(),delete theme.pendingJsLibs[i][t]})})):t&&theme.pendingJsLibs[i].push(t):(theme.loadedLibs.push(i),t&&t())}},initSidebar:function(){var s=this;$(document).on(this.options.sidebar.openEvent,this.selectors.sidebar.btn,function(t){t.preventDefault(),t.stopPropagation();var e=$(this).attr("data-placement"),i=$(this).attr("data-placement-mobile"),a=768<=s.data.cacheWindowWidth||null==i?e:i,o=$(this).attr("data-target");$("body").hasClass(s.selectors.sidebar.openClass)||s.showSidebar(o,a,s.options.sidebar.duration)}),this.initHideNavMobile(300)},initHideNavMobile:function(e){var i=this,t=this.selectors.sidebar.closeBtnCanvas+","+this.selectors.sidebar.closeSidebarBtn,a=this.options.overlay.hidePrefixEvent+this.options.sidebar.overlaySuffixEvent;$(document).on(i.options.sidebar.closeEvent,t,function(t){t.preventDefault(),t.stopPropagation(),$("body").hasClass(i.selectors.sidebar.openClass)&&i.hideSidebar(e,$(i.selectors.overlay).attr("data-block"))}),$(document).on(a,function(){i.hideSidebar(e,$(i.selectors.overlay).attr("data-block"))})},showSidebar:function(t,e,i){$("body").trigger("beforeShowSidebar-"+t.replace("#",""));var a=this.selectors.overlay;$(a).attr("data-block",t),this.showOverlay(this.options.sidebar.overlaySuffixEvent);var o=this.selectors.sidebar.openClass+"--"+$(t).attr("id");$("body").addClass(this.selectors.sidebar.openClass+" "+o),$(t).addClass("open")},hideSidebar:function(t,e){this.selectors.overlay;var i=this.selectors.sidebar.openClass+"--"+$(e).attr("id");$("body").removeClass(this.selectors.sidebar.openClass+" "+i),this.hideOverlay(),$(e).removeClass("open")},initSlickSlider:function(e,t){var i={};if($.extend(!0,i,this.options.slider),e.attr("data-slider"))try{i=$.extend(!0,i,JSON.parse(e.attr("data-slider")))}catch(t){e.addClass("failed"),i=this.options.slider}t&&(e.off("beforeChange"),e.off("afterSlideChange"),e.on("beforeChange",function(t,e,i,a){e.$slider.find(".slick-current").addClass("animate-out")}),e.on("afterChange",function(t,e,i){e.$slider.find(".slick-slide").removeClass("animate-out")})),e.slick(i),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&e.hasClass("need-refresh")&&e.slick("refresh")},initSliderEle:function(t,e){if(this.data.cacheWindowWidth>=this.options.windowScreen.desktop||!t.hasClass(this.selectors.slider.useTouchMobile)){var i=t.parent();i.height(i.height()),i.css({overflow:"hidden"});try{this.preInitSlider(t),this.initSlickSlider(t,e),setTimeout(function(){i.removeAttr("style")},500)}catch(t){i.removeAttr("style")}}else this.preInitSlider(t)},preInitSlider:function(t,e){"string"==typeof t&&(t=$(t));var i=this.selectors.slider.overFloatClasses;e&&(i+=" hide"),t.find("."+i.replace(/ /g,",.")).removeClass(i)},triggerResizeSlider:function(t){var e=this;t.hasClass(e.selectors.slider.useTouchMobile)&&$(window).on(e.data.resizeEventName,function(){e.data.cacheWindowWidth>=e.options.windowScreen.desktop?t.hasClass("slick-initialized")||e.initSlickSlider(t):t.hasClass("slick-initialized")&&t.hasClass(e.selectors.slider.useTouchMobile)&&setTimeout(function(){t.slick("unslick")},300)})},getSliderSelector:function(){return this.selectors.slider.default+":not("+this.selectors.waitingData+")"},initSlider:function(t,e,i){var a=this,o=this.getSliderSelector();"string"==typeof t&&(t=$(t));var s=t.find(o);if(s.length)if(this.data.cacheWindowWidth>=this.options.windowScreen.desktop||!t.hasClass("touch-mobile"))if(e){var n="init_slider_"+this.data.sliderIndex;this.data.sliderIndex++,this.initScrollingWindowTriggerOnce(t,n,-170,function(){s.each(function(){var t=$(this);a.initSliderEle(t,i),a.triggerResizeSlider(t)})})}else s.each(function(){var t=$(this);a.initSliderEle(t,i),a.triggerResizeSlider(t)});else a.preInitSlider(t),s.each(function(){var t=$(this);a.triggerResizeSlider(t)})},destroySlider:function(t){"string"==typeof t&&(t=$(t));var e=t.find(this.getSliderSelector());e.length&&e.each(function(){var t=$(this);t.hasClass("slick-initialized")&&t.slick("unslick")})},refreshSliderInTabs:function(){var o=this;$('a[data-toggle="tab"]').on("shown.bs.tab",function(t){var e=o.data.cacheWindowWidth,i=$(t.target).attr("href"),a=o.selectors.slider.default+":not("+o.selectors.waitingData+")";0<$(i).find(a).length&&$(i).find(a).each(function(){var t=$(this);e>=o.options.windowScreen.desktop?t.hasClass("slick-initialized")&&t.slick("setPosition"):!t.hasClass(o.selectors.slider.useTouchMobile)&&t.hasClass("slick-initialized")&&t.slick("setPosition")})})},submitCartForm:function(t,a,o,e){var s=this;t.valid()?t.ajaxSubmit({url:theme.cartAddUrl,type:"post",dataType:"json",error:function(t,e,i){null!=t.responseJSON.description&&null!=t.responseJSON.description?s.showNotify(t.responseJSON.description,s.options.notifyClassTypes.danger):null!=t.responseJSON.message&&s.showNotify(t.responseJSON.message,s.options.notifyClassTypes.danger),s.endLoadingBtn(a),a.removeClass(s.selectors.workingClass)},uploadProgress:function(t,e,i,a){},success:function(t,e,i,a){o(t)}}):e()},updateFaviconBadge:function(t){if(!theme.favicon.enable||this.data.cacheWindowWidth<768||!t)return!1;null==this.data.favicon&&(this.data.favicon=new Favico({animation:"slide",position:theme.favicon.pos,bgColor:theme.favicon.bkgColor,textColor:theme.favicon.textColor})),0<(t=parseInt(t))?this.data.favicon.badge(t):this.data.favicon.reset()},updateHeaderCartHtml:function(t){if("redirect"!=theme.cartAction&&"redirect_checkout"!=theme.cartAction||0!=t){var n=this.selectors.cart,r=this;new Promise(function(s,t){r.callAjax(theme.rootUrl,"GET",{view:"header_cart"},null,function(t){var e,i;e=$(n.header,t).html(),i=n.header,$(i).each(function(){$(this).html(r.processSameId(e))});var a=$(n.number,t).html(),o=$(n.total,t).html();$(n.number).html(a),$(n.total).html(o),r.updateFaviconBadge(a),s(n.header)})}).then(function(t){null!=t&&(r.convertCurrencySilence(t+" span.money"),$(document).trigger("ajaxCart.afterUpdateHeaderCartHtml")),r.convertCurrencySilence(n.total+" span.money"),r.resetCartTerms(),$(document).trigger("ajaxCart.afterCartLoad"),window.Shopify&&null!=Shopify.StorefrontExpressButtons&&!$("body").hasClass("template-cart")&&Shopify.StorefrontExpressButtons.initialize()},function(t){})}},generateCartMessage:function(t){return theme.strings.addCartMsg.replace(this.options.productNameHolder,"<strong>"+t+"</strong>")},updateCartMessage:function(t){$(this.selectors.cartMessage).removeClass("hide").html(this.generateCartMessage(t))},showPopupCart:function(t,o){var s=this;this.loadSnippetAjax("popup-cart",function(){s.loadUpsellInPopup(t.handle,t.title),s.updateCartMessage(t.title);var e=s.selectors.cartModal;$(e.productImage).attr("href",t.url).attr("title",t.title).find("img").attr("src",s.resizeImage(t.image,"360x")).attr("alt",t.title),$(e.productName+" > a").attr("title",t.title).attr("href",t.url).html(t.product_title);var i=$(e.variantTitle);if(i.html(""),null!=t.variant_title&&$(t.options_with_values).each(function(t,e){i.append('<span class="cart-response__meta-variant-title w100 db">'+e.name+": "+e.value+"</span>")}),t.properties){var a=$(e.variantProp);a.removeClass("hide"),a.html(""),$.each(t.properties,function(t,e){var i=$('<span class="gutter-ele-small-top w100 db cart__meta-text"></span>');i.append(t+": "),0<e.indexOf("/uploads/")?i.append(e.split("/").pop()):i.append(e),a.append(i)})}else $(e.variantProp).addClass("hide");$(e.qty).html(t.quantity),$(e.price).html(s.getPriceHtml(t.price)),$(e.linePrice).html(s.getPriceHtml(t.line_price)),s.resetCartTerms(),theme.enableFreeShipping?s.callAjax(theme.cartJsonUrl,"GET",null,"json",function(t){s.convertProgressBar(t.total_price,!0),BtCurrency.convertSilence(shopCurrency,BtCurrency.currentCurrency,e.wrap+" span.money"),s.showPopup(e.wrap),o()}):(BtCurrency.convertSilence(shopCurrency,BtCurrency.currentCurrency,e.wrap+" span.money"),s.showPopup(e.wrap),o())})},convertProgressBar:function(t,e){if(theme.enableFreeShipping&&null!=BtCurrency.rates&&useCurrencyConverterPlusEngine&&defaultCurrency!=shopCurrency&&0!=$(".free-shipping-text").length||null!=e){var i,a=useCurrencyConverterPlusEngine&&defaultCurrency!=shopCurrency&&null!=BtCurrency.rates?theme.freeShippingGoal/BtCurrency.rates[shopCurrency]:theme.freeShippingGoal;if(a<=(t=null!=t?t:parseFloat($(".free-shipping-text--data").attr("data-current"))))$(".free-shipping-text").text(theme.freeShippingGoalText),i=100;else{var o=a-t,s="<strong>"+BT.getPriceHtml(o)+"</strong>";$(".free-shipping-text").html(theme.freeShippingProgressText.replace("[remain_amount]",s)),i=Math.floor(100*t/a)}$(".cart__free-progress-bar").attr("aria-valuenow",i).css("width",i+"%"),$(".cart__free-progress-bar span").text(i+"%")}},enableCartTerms:function(){$(this.selectors.cartTerms.checkbox).prop("checked",!1),$(this.selectors.cartTerms.checkoutBtn).addClass("disabled"),$(this.selectors.cartTerms.paymentBtn).addClass("disabled")},disableCartTerms:function(){$(this.selectors.cartTerms.checkbox).prop("checked",!0),$(this.selectors.cartTerms.checkoutBtn).removeClass("disabled"),$(this.selectors.cartTerms.paymentBtn).removeClass("disabled")},resetCartTerms:function(){this.agreeCartTerms()?this.disableCartTerms():this.enableCartTerms()},showCartTermsErrorMsg:function(t){t.addClass("notify-terms"),0==t.siblings(".alert").length&&t.parent().append('<div class="alert alert-danger w100 distance-top-ele" style="margin-bottom:0;display:none;">'+theme.strings.cartTermsErrorMsg+"</div>"),t.siblings(".alert").show(300)},hideCartTermsErrorMsg:function(){var t=$(this.selectors.cartTerms.label);t.removeClass("notify-terms"),t.siblings(".alert").hide(300)},initAgreeCartTems:function(){if(!theme.cartTerms)return!0;var e=this,i=this.options.cartTerms.cookieName,a=this.selectors.cartTerms;this.resetCartTerms(),$(document).on("change",a.checkbox,function(t){t.preventDefault(),$(this).is(":checked")?(e.setCookie(i,1),$(this).hasClass("redirect")?window.location.href="/checkout":($(a.checkbox).not(this).prop("checked",!0),$(a.checkoutBtn).removeClass("disabled"),$(a.paymentBtn).removeClass("disabled"),e.hideCartTermsErrorMsg())):(e.setCookie(i,null),$(a.checkbox).not(this).prop("checked",!1),$(a.checkoutBtn).addClass("disabled"),$(a.paymentBtn).addClass("disabled"))}),$(document).on("click",".shopify-payment-button,"+a.checkoutBtn,function(t){$(this).hasClass("disabled")?(t.preventDefault(),e.showCartTermsErrorMsg($(this).parent().siblings(a.wrap).find(a.label).first())):$(this).hasClass("checkout-btn--redirect")&&(window.location.href=theme.rootUrl+"checkout")})},agreeCartTerms:function(){if(!theme.cartTerms)return!0;var t=this.options.cartTerms.cookieName,e=this.getCookie(t);return null!=e&&null!=e&&"null"!=e},runCartAction:function(t,e){if("redirect"==theme.cartAction)window.location.href=theme.cartUrl;else if("redirect_checkout"==theme.cartAction)if(this.agreeCartTerms())window.location.href="/checkout";else{this.updateHeaderCartHtml(!0);var i=this;this.loadSnippetAjax("popup-terms",function(){0<$(i.selectors.cartTerms.popup).length&&(i.showPopup(i.selectors.cartTerms.popup),e())})}else"popup"==theme.cartAction?(this.updateHeaderCartHtml(!1),this.showPopupCart(t,e)):"open_cart"==theme.cartAction?(this.updateHeaderCartHtml(!1),setTimeout(function(){$(".cart-sidebar-trigger").trigger("click"),e()},300)):("notify_msg"==theme.cartAction?(this.updateHeaderCartHtml(!1),this.showNotify(this.generateCartMessage(t.title),this.options.notifyClassTypes.success)):this.updateHeaderCartHtml(!1),e())},initCartEvent:function(){var o=this,t=this.selectors.cart;$(document).on("click",t.addBtn,function(t){t.preventDefault();var e=$(this);if(!e.hasClass(o.selectors.workingClass)){var i=$(this).parents("form");e.addClass(o.selectors.workingClass),o.startLoadingBtn(e),o.submitCartForm(i,e,function(t){o.runCartAction(t,function(){o.endLoadingBtn(e),("open_cart"==theme.cartAction||"notify_msg"==theme.cartAction)&&0<e.parents(".modal").length&&o.hidePopup("#"+e.parents(".modal").first().attr("id"))}),e.removeClass(o.selectors.workingClass)},function(){o.endLoadingBtn(e),e.removeClass(o.selectors.workingClass)})}}),$(document).on("click",t.updateBtn,function(t){if(t.preventDefault(),!$(this).hasClass(o.selectors.workingClass)){$(this).addClass(o.selectors.workingClass);var e=$(this).attr("data-index"),i=$(this).attr("data-value"),a=$(this).find("i");if(a.addClass(o.selectors.loadingAjaxClass),isNaN(i)){if(0==$(i).length)return $(this).find("i").removeClass(o.selectors.loadingAjaxClass),void $(this).removeClass(o.selectors.workingClass);i=$(i).val()}o.requestUpdateCart(e,i,function(){o.updateHeaderCartHtml(!0)},function(){a.removeClass(o.selectors.loadingAjaxClass)})}}),$(document).on("change",t.qtyInput,function(){var t=$(this).attr("data-line");o.showLoadingFull(),o.requestUpdateCart(t,$(this).val(),function(){o.updateHeaderCartHtml(!0),o.hideLoadingFull()},function(){o.hideLoadingFull()})})},hideSearchFull:function(){$(this.selectors.searchFull.wrap).fadeOut(),$("body").removeClass("open-search-suggest")},renderSearchFullContent:function(t){var e=this.selectors.searchFull;this.data.searchSuggestionCurrentAjaxRequest=null,$(e.loading).removeClass(this.selectors.loadingAjaxClass),$(e.content+"__"+this.data.searchSuggestionCurrentType).addClass(e.loadedClass);var i=$(e.content+"__"+this.data.searchSuggestionCurrentType+" "+e.result);i.html(t),$(e.suggestProducts).hide(),"product"==this.data.searchSuggestionCurrentType&&(this.convertCurrencySilence(i.find("span.money")),this.initDealCountdown(i),this.applyCustomColorSwatches(i),this.reLoadReview(i),this.popularAddedWishlistItems(i))},initSearchSuggestion:function(){var s=this.selectors.searchFull,o="working",n=(this.selectors.promo.wrap,this),r=void 0,t=!1;function l(){!t&&$(s.suggestProducts).length&&(t=!0,n.callSnippetAjax("search-full-suggest",function(t){$(s.suggestProducts).html(t)})),$(s.wrap).fadeIn(),$("body").addClass("open-search-suggest")}if($(document).on("click",s.trigger,function(t,e,i){if(t.preventDefault(),null!=e&&(r=e),!$(this).hasClass(o)){var a=$(this);a.addClass(o),l(),a.removeClass(o),null!=r&&($(s.input).val(r),$(s.input).trigger("change"),r=void 0),$(s.input).focus()}}),$(document).on("click",s.close,function(t){t.preventDefault(),n.hideSearchFull()}),theme.searchSuggest.enable){var d=!1,c={options:{prefix:"last"}};$(document).on("keyup change",s.input,$.throttle(500,function(t){var e=$(this),i=e.val();if(3<=i.length&&i!=e.attr("data-term")){null!=n.data.searchSuggestionCurrentAjaxRequest&&n.data.searchSuggestionCurrentAjaxRequest.abort();var a=theme.searchUrl+"?view=suggest&q="+i+"&type="+n.data.searchSuggestionCurrentType;$(s.loading).addClass(n.selectors.loadingAjaxClass),e.attr("data-term",i),d=!0,n.data.searchSuggestionCurrentAjaxRequest=n.callAjax(a,"GET",c,null,function(t){$(s.tabList).removeClass("hide"),$(s.content).removeClass("hide"),$(s.tabContent+":not(.active)").removeClass("loaded"),d=!1,n.renderSearchFullContent(t),$(window).trigger("renderedSearchFullContent",[i])})}})),"search"!=theme.template&&$(document).on("keyup change",s.inputSync,$.throttle(500,function(t){var e=$(this).val();3<=e.length&&e!=$(this).attr("term")&&($(s.inputSync).siblings("button").find("i").addClass(n.selectors.loadingAjaxClass),$(s.trigger).trigger("click",[e,!0]))})),$(window).on("renderedSearchFullContent",function(t,e){$(s.inputSync).attr("term",e),$(s.inputSync).siblings("button").find("i").removeClass(n.selectors.loadingAjaxClass)}),$(document).on("shown.bs.tab",s.tabTitle,function(t){var e=$(t.target),i=$(e.attr("href"));if(d&&($(s.tabContent+":not(.active)").removeClass("loaded"),d=!1),n.data.searchSuggestionCurrentType=e.attr("data-type"),e.parents(s.wrap).first().find(".search-full__type").val(n.data.searchSuggestionCurrentType),!i.hasClass(s.loadedClass)){null!=n.data.searchSuggestionCurrentAjaxRequest&&n.data.searchSuggestionCurrentAjaxRequest.abort();var a=$(s.input).val(),o=theme.searchUrl+"?view=suggest&q="+a+"&type="+n.data.searchSuggestionCurrentType;n.data.searchSuggestionCurrentAjaxRequest=n.callAjax(o,"GET",c,null,function(t){n.renderSearchFullContent(t),$(window).trigger("renderedSearchFullContent",[a])})}})}},loadUpsell:function(d){if(void 0!==d&&0!=d.length){var c=this,t=this.selectors.upsell,u=d.attr("data-handle"),a=d.find(t.list);a.hasClass("slick-initialized")&&a.slick("unslick"),a.html(""),a.siblings(this.selectors.loadingNotFull).show(),d.show();var p=upsellRandom?100:parseInt(d.attr("data-limit"));this.callAjax(theme.rootUrl+"products/"+u,"GET",{view:"upsell_tags"},null,function(l){new Promise(function(i,t){var e=$.parseJSON(l.replace("\x3c!-- BEGIN template --\x3e","").replace("\x3c!-- product.upsell_tags --\x3e","").replace("\x3c!-- END template --\x3e","")),a=[],o=[],s=0,n=e.length;0==n&&i([]);var r=d.attr("data-slider")?"upsell_slider":"upsell";$(e).each(function(e,t){c.callAjax(theme.collectionAllUrl+"/"+t,"GET",{view:r},null,function(t){$(".product-item",t).each(function(){o.indexOf($(this).attr("data-id"))<0&&$(this).attr("data-handle")!=u&&s<p&&(a.push($(this).html()),o.push($(this).attr("data-id")),s++)}),e==n-1&&(upsellRandom&&(a=c.shuffleArray(a)),i(a))})})}).then(function(t){if(a.siblings(c.selectors.loadingNotFull).hide(),0<t.length){var i=0;$(t).each(function(t,e){i<p&&a.append(e),i++}),c.convertCurrencySilence(a.find("span.money")),c.applyCustomColorSwatches(a),c.initSlider(d,!1,!1),c.popularAddedWishlistItems(d)}else d.hide()},function(t){})})}},loadUpsellInPopup:function(t,e){var i=$(this.selectors.cartModal.wrap+" "+this.selectors.upsell.wrap);void 0!==i&&0!=i.length&&(i.attr("data-handle",t),i.find(".upsell-title").html(theme.strings.upsellTitle.replace(this.options.productNameHolder,"<strong>"+e+"</strong>")),this.loadUpsell(i))},gotoSliderIndex:function(t,e){t.slick("slickGoTo",e,!0)},getUnitPriceHtml:function(t,e){if(null==e.unit_price_measurement)return"";var i='<span class="w100 gutter-ele'+(t.hasClass("product-single")?"":"-small")+'-top product-price__unit db">';return i+=this.getPriceHtml(e.unit_price)+'<span class="product-price__unit__separator">/</span><span class="product-price__unit__base">'+(1!=e.unit_price_measurement.reference_value?e.unit_price_measurement.reference_value:"")+e.unit_price_measurement.reference_unit+"</span>",i+="</span>"},getVariantPriceHtml:function(t,e){var i="";e.compare_at_price>e.price?(i+='<span class="product-price__price">'+this.getPriceHtml(e.price)+"</span>",i+='<s class="product-price__price product-price__sale">'+this.getPriceHtml(e.compare_at_price)+"</s>",t.hasClass("product-single")||(i+='<span class="product-price__percent dib">-'+Math.floor((e.compare_at_price-e.price)/e.compare_at_price*100)+"%</span>")):i+='<span class="product-price__price">'+this.getPriceHtml(e.price)+"</span>";return 0==e.available&&null==t.attr("data-ignore-sold-out-text")&&(i+='<span class="product-price__sold-out w100 db">'+theme.strings.soldOut+"</span>"),i+=this.getUnitPriceHtml(t,e)},initProductGroup:function(){var f=this.selectors.productGroup,g=(this.options.productGroup,this);$(document).on("click change",f.optionValue,function(t){t.preventDefault();var p=$(this),h=p.parents(f.wrap).first(),m=h.attr("data-product-handle");$(this).hasClass("disabled")||$(this).hasClass("selected")&&null!=g.data.productGroup[m]||"click"==t.type&&"SELECT"==t.target.nodeName||new Promise(function(e,t){g.data.updatingProductOptions=!0,null==g.data.productGroup[m]?(h.addClass(f.loadingClass),g.callAjax(theme.rootUrl+"products/"+m,"GET",{view:"tjson"},null,function(t){g.data.productGroup[m]=$.parseJSON(t.replace("\x3c!-- BEGIN template --\x3e","").replace("\x3c!-- product.tjson --\x3e","").replace("\x3c!-- END template --\x3e","")),h.removeClass(f.loadingClass),e()})):e()}).then(function(){var t=p.parents(f.option),e=t.attr("data-index"),i=[],a=p.prop("tagName").toLowerCase();h.find(f.option).each(function(){var t;t=$(this).attr("data-index")!=e?$(this).hasClass("swatch")?$(this).find(".selected").attr("data-value"):$(this).find(f.optionValue).val():"a"==a?p.attr("data-value"):p.val(),i.push(t)});var o,s,n,r,l=i.length,d=[],c=[],u=[];variantsMatchOption2=[],resetOutStockGroup=null==g.data.outStockGroup[m]&&!t.hasClass("last"),isLastOption=t.hasClass("last"),resetOutStockGroup&&(g.data.outStockGroup[m]=[]),$.each(g.data.productGroup[m],function(t,e){e.options[0]==i[0]&&(null==o&&(o=e),null!=s&&s.available&&!isLastOption||(s=e),1<l&&(-1==d.indexOf(e.options[1])&&d.push(e.options[1]),u.push(e),e.options[1]==i[1]&&(null!=n&&n.available&&!isLastOption||(n=e),variantsMatchOption2.push(e),2<l&&(e.options[2]!=i[2]||null!=r&&r.available&&!isLastOption||(r=e),c.push(e.options[2]))))),resetOutStockGroup&&!e.available&&g.data.outStockGroup[m].push(e.title)}),isLastOption||(1<l&&-1==d.indexOf(i[1])&&(variantsMatchOption2=[],c=[],0<h.find(f.option+'[data-index="1"] .pg__option__values a').length?h.find(f.option+'[data-index="1"] .pg__option__values a').each(function(){-1<d.indexOf($(this).attr("data-value"))&&(i[1]=d[0])}):0<h.find(f.option+'[data-index="1"] .pg__option__value option').length&&h.find(f.option+'[data-index="1"] .pg__option__value option').each(function(){-1<d.indexOf($(this).attr("value"))&&(i[1]=d[0])}),$.each(u,function(t,e){e.options[0]==i[0]&&e.options[1]==i[1]&&(null==n&&e.available&&(n=e),variantsMatchOption2.push(e),2<l&&c.push(e.options[2]))})),2<l&&(-1==c.indexOf(i[2])&&(0<h.find(f.option+'[data-index="2"] .pg__option__values a').length?h.find(f.option+'[data-index="2"] .pg__option__values a').each(function(){-1<d.indexOf($(this).attr("data-value"))&&(i[2]=c[0])}):0<h.find(f.option+'[data-index="2"] .pg__option__value option').length&&h.find(f.option+'[data-index="2"] .pg__option__value option').each(function(){-1<d.indexOf($(this).attr("value"))&&(i[2]=c[0])})),$.each(variantsMatchOption2,function(t,e){null==r&&e.options[0]==i[0]&&e.options[1]==i[1]&&e.options[2]==i[2]&&e.available&&(r=e)}))),null!=r?o=r:null!=n?o=n:null!=s&&(o=s),g.loadCssJsLib("product-global",function(){g.updateNewVariant(h,o,d,c,!0,!0,t.hasClass("last")),setTimeout(function(){g.data.updatingProductOptions=!1},300)})},function(t){setTimeout(function(){g.data.updatingProductOptions=!1},300)})}),$(document).on("click",f.storePickupBtn,function(t){t.preventDefault(),BT.showPopup(f.storePickupModel)})},initQtyBox:function(){var a=this.selectors.qtyBox;$(document).on("click",a.ctrlBtn,function(t){t.preventDefault();var e=$(this).siblings("input").first(),i=parseInt(e.val());$(this).hasClass(a.decreaseBtnClass)?1<i&&(e.val(i-1),e.hasClass(a.inputSyncClass)&&e.trigger("change")):(e.val(i+1),e.hasClass(a.inputSyncClass)&&e.trigger("change"))})},runCountDown:function(s,n,r){var i=null!=s.attr("data-tpl-hour")?$(s.attr("data-tpl-hour")).html():theme.strings.countdownTplHour,a=null!=s.attr("data-tpl-day")?$(s.attr("data-tpl-day")).html():theme.strings.countdownTplDay,o=null!=s.attr("data-tpl-week")?$(s.attr("data-tpl-week")).html():theme.strings.countdownTplWeek,l=this;s.countdown(n).on("update.countdown",function(t){var e=i;0<t.offset.totalDays&&(e=a),0<t.offset.weeks&&(e=o),$(this).html(t.strftime(e))}).on("finish.countdown",function(t){var e=parseInt(s.attr("data-extend"));if(1==r&&null!=e&&Number.isInteger(e)&&0<e){var i="countdown_extend_"+s.data("product-id"),a=new Date,o=a.getTime()+86400*e*1e3;l.setCookie(i,o,null),a.setTime(o),n=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),l.runCountDown(s,n,1)}else $(this).html(theme.strings.countdownExpiredMsg)})},initReverseCountdown:function(t,e,i){var a,o="countdown_reverse_"+i,s=this.getCookie(o);if(null==s||NaN==s||"NaN"==s||"null"==s||null==s){if(4==(p=e.split(":")).length){var n=parseInt(p[0]),r=parseInt(p[1]),l=parseInt(p[2]),d=parseInt(p[3]);if(0<=r&&r<=23&&0<=l&&l<=59&&0<=d&&d<=59)a=(new Date).getTime()+1e3*(86400*n+3600*r+60*l+d)}this.setCookie(o,a,null)}else a=parseInt(s);if(null!=a){var c=new Date,u=c.getTime();if(a<=u-1800){var p;if(a=null,4==(p=e.split(":")).length){n=parseInt(p[0]),r=parseInt(p[1]),l=parseInt(p[2]),d=parseInt(p[3]);0<=r&&r<=23&&0<=l&&l<=59&&0<=d&&d<=59&&(a=u+1e3*(86400*n+3600*r+60*l+d))}this.setCookie(o,a,null)}if(a){c.setTime(a);var h=c.getFullYear()+"/"+(c.getMonth()+1)+"/"+c.getDate()+" "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds();this.runCountDown(t,h,2)}}},initDealCountdown:function(t){"string"==typeof t&&(t=$(t));var i=this;0<t.find(this.selectors.productGroup.countdown).length&&t.find(this.selectors.productGroup.countdown).each(function(){var t=$(this).attr("data-timer");if(null!=t&&""!=t)if(1==/^\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}$/.test(t))i.runCountDown($(this),t,1);else if(/^\d{1,2}:\d{2}:\d{2}:\d{2}$/.test(t)){var e=$(this).data("product-id");i.initReverseCountdown($(this),t,e)}})},destroyDealCountdown:function(t){"string"==typeof t&&(t=$(t)),0<t.find(this.selectors.productGroup.countdown).length&&t.find(this.selectors.productGroup.countdown).each(function(){$(this).countdown("stop")})},runReLoadReview:function(t,e){if(theme.review.enable)if("string"==typeof t&&(t=$(t)),"product_review"==theme.review.app){if("undefined"!=typeof SPR&&void 0!==SPR.$){if(!e)return SPR.initDomEls(),SPR.loadBadges();SPR.registerCallbacks(),SPR.initRatingHandler(),SPR.initDomEls(),SPR.loadProducts(),SPR.loadBadges()}}else if("yotpo"==theme.review.app){new Yotpo.API(yotpo).refreshWidgets()}},reLoadReview:function(t){this.runReLoadReview(t,!1)},runProgressBar:function(t){0<t.length&&t.width(t.data("width")+"%")},initQuickView:function(){var o=this,s=this.selectors.qvPopup,n=this.selectors.workingClass;$(document).on("click",this.selectors.qvBtn,function(t){if(t.preventDefault(),!$(this).hasClass(n)){$(this).addClass(n);var e=$(this).attr("href"),a=$(this);"tooltip"==a.attr("data-toggle")&&a.tooltip("hide"),o.startLoadingBtn(a),o.loadCssJsLib("quickViewPopup"),o.callAjax(e,"GET",{view:"quick_view"},null,function(t){var e=$(".product-single-json",t);0<e.length&&(o.data.productGroup[e.attr("data-handle")]=$.parseJSON(e.html()),o.addProductRecentView(e.attr("data-handle")));var i=$(s).find(".product-section-content");i.html(o.stripScripts($(".section-product-main",t).html())),0<$(".model-json",t).length&&i.append($(".model-json",t)),o.showPopup(s),o.convertCurrencySilence(s+" span.money"),o.applyCustomColorSwatches(s),o.endLoadingBtn(a),o.rteWrap(s+" .rte"),a.removeClass(n),o.reLoadReview(s),o.runProgressBar($(s+" .progress-bar")),o.popularAddedWishlistItems(s)})}}),$(document).on("show.bs.modal",s,function(){o.loadCssJsLib("product-global",function(){o.init3dModel($(s),$(s+" .model-json").attr("id").replace("ModelJson-","")),setTimeout(function(){o.initProductThumbsSlider(s),o.initProductMainSliderAndZoom(s,0,0)},500)}),o.initDealCountdown(s)}),$(document).on("hidden.bs.modal",s,function(){o.destroyProductMainSliderAndZoom(s),o.destroyProductThumbsSlider(s),o.destroyDealCountdown(s)})},initSelectOption:function(){var a=this,o=this.selectors.selectOptionPopup,s=this.selectors.workingClass;$(document).on("click",this.selectors.selectOptionBtn,function(t){if(t.preventDefault(),!$(this).hasClass(s)){$(this).addClass(s);var e=$(this).attr("href"),i=$(this);a.startLoadingBtn(i),a.loadSnippetAjax("popup-select-option",function(){a.callAjax(e,"GET",{view:"select_option"},null,function(t){var e=$(".product-single-json",t);0<e.length&&(a.data.productGroup[e.attr("data-handle")]=$.parseJSON(e.html())),$(o).find(".product-section-content").html(a.stripScripts(t)),a.convertCurrencySilence(o+" span.money"),a.applyCustomColorSwatches(o),a.endLoadingBtn(i),a.showPopup(o),i.removeClass(s)})})}})},getCookieItemsValue:function(t,e){if(void 0===this.data.cookieArray[e]){var i=this.getCookie(e);this.data.cookieArray[e]=null==i||""==i?[]:i.split(",")}return t?this.data.cookieArray[e]:this.data.cookieArray[e].join(",")},isProductExistInCookie:function(t,e){return 0<=this.getCookieItemsValue(!0,e).indexOf(t)},addProductToCookie:function(t,e){var i=this.getCookieItemsValue(!0,e);i.indexOf(t)<0&&(i.push(t),this.data.cookieArray[e]=i,this.setCookie(e,i.join(","),null))},removeProductFromCookie:function(t,e){null!=this.data.cookieArray[e]&&0<=this.data.cookieArray[e].indexOf(t)&&(this.data.cookieArray[e].splice(this.data.cookieArray[e].indexOf(t),1),this.setCookie(e,this.data.cookieArray[e].join(","),null))},loadCompare:function(i){var a=this;this.loadCssJsLib("quickViewPopup"),this.callAjax(theme.rootUrl,"GET",{view:"compare",q:a.getCookieItemsValue(!1,a.options.compare.cookieName)},null,function(e){a.loadSnippetAjax("popup-compare",function(){var t=$(a.selectors.compare.popup).find(".compare-content");t.html(a.stripScripts(e)),a.rteWrap(a.selectors.compare.popup+" .rte"),a.applyCustomColorSwatches(t),a.convertCurrencySilence(t.find("span.money")),a.findBestPriceInCompare(),a.reLoadReview(t),a.firstLoaded=!0,i&&i()})})},findBestPriceInCompare:function(){var a=this.selectors.compare,o=this,t=$(a.bestPriceBadge),s=-1,n=0,r=$(a.popup);0<t.length&&(t.each(function(){var t=$(this).parents("td").attr("data-index"),e=!r.find('td[data-index="'+t+'"]'+a.availabilityRow+" "+o.selectors.productGroup.stockText).hasClass("soldout"),i=parseFloat($(this).attr("data-price"));e&&(0==n||i<n)&&(n=i,s=$(this).parents("td").attr("data-index"))}),t.addClass("hide"),$(a.popup+' td[data-index="'+s+'"] '+a.bestPriceBadge).removeClass("hide"))},afterUpdatedVariantCompare:function(t){var e=this.selectors.productGroup,i=t.attr("data-index"),a=t.parents(e.wrap),o=t.parents("table"),s=t.val(),n=this.data.productGroup[a.attr("data-product-handle")];if(null!=n){var r=n[s];if(null!=r){var l=o.find('td[data-index="'+i+'"] '+e.price);if(l.html(this.getVariantPriceHtml(a,r)),this.convertCurrencySilence(l.find("span.money")),l.parent().find(this.selectors.compare.bestPriceBadge).attr("data-price",r.price),null!=r.featured_media&&null!=r.featured_media.src){var d=o.find('td[data-index="'+i+'"] '+e.mainImg);d.parent(":not(.not-loading)").addClass("loading"),d.attr("data-src",this.resizeImage(r.featured_media.src,d.attr("data-image-size")).replace("_1x1.","_{width}x.")),d.addClass("lazyload")}var c=o.find('td[data-index="'+i+'"]'+this.selectors.compare.actionsRow),u=o.find('td[data-index="'+i+'"]'+this.selectors.compare.availabilityRow),p=c.find(this.selectors.cart.addBtn);r.available?(p.removeAttr("disabled"),p.removeClass("soldout"),p.attr("title",theme.strings.addToCart).tooltip("fixTitle"),p.find("span").text(theme.strings.addToCart),u.find(e.stockText).text(theme.strings.instockText).removeClass("soldout")):(p.attr("disabled","disabled"),p.addClass("soldout"),p.attr("title",theme.strings.soldOut).tooltip("fixTitle"),p.find("span").text(theme.strings.soldOut),u.find(e.stockText).text(theme.strings.soldOut).addClass("soldout")),c.find(e.variantId).val(s),this.findBestPriceInCompare()}}},initCompareEvent:function(){var a=this,i="working",o=this.selectors.compare,s=this.options.compare.cookieName;$(o.number).text(this.getCookieItemsValue(!0,s).length),$(document).on("click",o.btn,function(t){t.preventDefault();var e=$(this).attr("data-handle"),i=$(this);"tooltip"==i.attr("data-toggle")&&i.tooltip("hide"),a.isProductExistInCookie(e,s)&&0<$(a.selectors.compare.popup).find("table").length?a.showPopup(a.selectors.compare.popup):(a.addProductToCookie(e,s),$(o.number).text(a.getCookieItemsValue(!0,s).length),a.startLoadingBtn(i),a.loadCompare(function(){a.endLoadingBtn(i),a.showPopup(a.selectors.compare.popup)}))}),$(document).on("click",o.removeBtn,function(t){t.preventDefault();var e=$(this).attr("data-handle");a.removeProductFromCookie(e,s),$(o.number).text(a.getCookieItemsValue(!0,s).length),a.loadCompare()}),$(document).on("click",o.headerLink,function(t){t.preventDefault();var e=$(this);e.hasClass(i)||(e.addClass(i),a.firstLoaded?(a.showPopup(a.selectors.compare.popup),e.removeClass(i)):(a.showLoadingFull(),a.loadCompare(function(){a.hideLoadingFull(),a.showPopup(a.selectors.compare.popup),e.removeClass(i)})))}),$(document).on("change",o.variantId,function(t){a.afterUpdatedVariantCompare($(this))})},loadDynamicProductsAjax:function(t,e,i){var a={view:"dynamic_ajax",q:t,page:e};this.callAjax(theme.rootUrl,"GET",a,null,i)},addProductMetaData:function(t,e){e&&(this.convertCurrencySilence(t.find("span.money")),this.reLoadReview(t)),this.initDealCountdown(t),this.applyCustomColorSwatches(t),this.popularAddedWishlistItems(t)},afterLoadDynamicProductsAjaxInTab:function(t,e){t.removeClass(this.selectors.waitingData.replace(".","")),t.append($(".products",e).html());var i=t.siblings(this.selectors.loadMoreBtn);0<i.length&&i.remove(),0<$(this.selectors.loadMoreBtn,e).length&&t.parent().append($(this.selectors.loadMoreBtn,e).get(0).outerHTML)},destroyInfiniteScroll:function(t){void 0!==this.data.productGroupInfiniteScroll[t]&&$.each(this.data.productGroupInfiniteScroll[t],function(t,e){e.destroy()})},initInfiniteScroll:function(t){if("string"==typeof t&&(t=$(t)),0<t.find(this.selectors.infiniteScroll.button).length){var a=this;this.loadCssJsLib("waypoint",function(){a.loadCssJsLib("infinite",function(){t.find(a.selectors.infiniteScroll.button).each(function(){var t=$(this).attr("data-id-save");void 0===a.data.productGroupInfiniteScroll[t]&&(a.data.productGroupInfiniteScroll[t]=[]);var e=$(this).siblings(".products").first(),i=$(this).attr("data-id");a.data.productGroupInfiniteScroll[t].push(new Waypoint.Infinite({element:e,items:".grid__item",more:i,onAfterPageLoad:function(t){a.applyCustomColorSwatches(t),BtCurrency.convertSilence(shopCurrency,BtCurrency.currentCurrency,t.find("span.money")),a.initDealCountdown(t),a.reLoadReview(t)}}))})})})}},invertColor:function(t,e){if(0===t.indexOf("#")&&(t=t.slice(1)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6!==t.length)return!1;var i=parseInt(t.slice(0,2),16),a=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16);return e?186<.299*i+.587*a+.114*o?"#000000":"#FFFFFF":(i=(255-i).toString(16),a=(255-a).toString(16),o=(255-o).toString(16),"#"+this.padZero(i)+this.padZero(a)+this.padZero(o))},padZero:function(t,e){return e=e||2,(new Array(e).join("0")+t).slice(-e)},loadCustomColorCodes:function(e){if(null!=this.data.customColorCodes||this.data.customColorCodesLoading)e();else if(0==this.data.customColorCodesLoading){var i=this;this.data.customColorCodesLoading=!0,this.callAjax(theme.rootUrl,"GET",{view:"color_codes"},null,function(t){i.data.customColorCodes=$.parseJSON(t.replace("\x3c!-- BEGIN template --\x3e\x3c!-- index.color_codes --\x3e","").replace("\x3c!-- END template --\x3e","")),i.data.customColorCodesLoading=!1,0<i.data.customColorCodesStack.length&&$.each(i.data.customColorCodesStack,function(t,e){i.runCustomColorCodes(e),delete i.data.customColorCodesStack[t]}),e()})}},runCustomColorCodes:function(t){"string"==typeof t&&(t=$(t));var o=this;t.find(".color-load:not(.color-loaded)").each(function(){var t=$(this).attr("data-color-tag");if(null!=t){var e=o.data.customColorCodes[t];if(null!=e){if(null!=e.color&&($(this).css("background-color",e.color),!$(this).hasClass("ignore-color-text"))){var i=o.invertColor(e.color,!0);i&&$(this).css("color",i)}if(null!=e.image){var a=o.resizeImage(e.image,"46x46_crop_center");$(this).css("background-image","url("+a+")")}}}$(this).addClass("color-loaded")})},applyCustomColorSwatches:function(t){var e=this;this.loadCustomColorCodes(function(){e.data.customColorCodesLoading?e.data.customColorCodesStack.push(t):e.runCustomColorCodes(t)})},initLoadMoreBtn:function(){var o=this;$(document).on("click",this.selectors.loadMoreBtn,function(t){t.preventDefault();var e=$(this);if(!e.hasClass(o.selectors.workingClass)){e.addClass(o.selectors.workingClass).prepend('<i class="'+o.selectors.loadingAjaxClass+'" style="margin-right: 5px;"></i>');var i=$(this).attr("data-href"),a=$(this).siblings(".grid");null==i?o.loadDynamicProductsAjax($(this).attr("data-ajax-params"),2,function(t){o.afterLoadDynamicProductsAjaxInTab(a,t),o.addProductMetaData(a,!0)}):o.callAjax(i,"GET",null,null,function(t){o.afterLoadDynamicProductsAjaxInTab(a,t),o.addProductMetaData(a,!0)})}})},updateThresholdMenu:function(t){this.data.thresholdMenu+=t},calculateThresholdAndFixSticker:function(){var t=this.data.stickyMenuObj.outerHeight();this.data.thresholdMenu=this.data.stickyMenuObj.offset().top+t,this.fixedHeightSticker(t)},updateStickyMenuObj:function(t){t.hasClass("use-sticky")?this.data.stickyMenuObj=t:this.data.stickyMenuObj=t.parents(".use-sticky").first()},openStickyMenu:function(){$(window).scrollTop()>this.data.thresholdMenu?this.data.stickyMenuObj.hasClass("active")||this.data.stickyMenuObj.addClass("active"):this.hideStickyMenu()},hideStickyMenu:function(){this.data.stickyMenuObj.hasClass("active")&&!$("body").hasClass("open-search-suggest")&&this.data.stickyMenuObj.removeClass("active")},fixedHeightSticker:function(t){this.data.sticker.height(t)},initStickyMenu:function(){if($(".use-sticky").length){var i=this;$(".use-sticky--desktop");i.data.cacheWindowWidth<992&&$(".use-sticky--mobile"),this.data.sticker=$(".header-sticker"),this.data.stickyMenuObj=$(".header-sticker__inner"),this.calculateThresholdAndFixSticker(),this.initPromotion();$(window).on(this.data.scrollEventName,function(t,e){i.data.pageLoaded&&0==i.data.updatingProductOptions&&("down"==e&&0==i.data.openingDesktopNav?i.hideStickyMenu():i.openStickyMenu())}),$(window).on(this.data.resizeEventName,function(t){i.calculateThresholdAndFixSticker()})}else this.initPromotion()},initRecommendedProducts:function(){theme.enableRecommendedProducts&&setTimeout(function(){var t=this.options.rp.cookieName;null==this.getCookie(t)&&this.loadCssJsLib("recommendedProducts")}.bind(this),8e3)},initNewsTerms:function(t){if(theme.newsTerms){var e=$(t+" "+this.selectors.newsTerms.form),i=$(t+" "+this.selectors.newsTerms.input),a=$(t+" "+this.selectors.newsTerms.error),o=this.options.newsTerms.cookieName,s=this.getCookie(o),n=this;e.unbind("submit"),i.unbind("change"),"1"==s&&i.attr("checked","checked"),i.on("change",function(){$(this).is(":checked")?(n.setCookie(o,1),a.hasClass("working")&&(a.fadeOut(),a.removeClass("working"))):n.setCookie(o,0)}),e.on("submit",function(t){i.is(":checked")||(t.preventDefault(),a.fadeIn(),a.addClass("working"))})}},initNewsletterPopup:function(){theme.enableNewsPopup&&"newsletter-popup-form"!=location.hash.substr(1)&&setTimeout(function(){$("body").hasClass("modal-open")||$("body").hasClass("open-search-suggest")||this.loadCssJsLib("newsletterPopup")}.bind(this),8e3)},initPromotion:function(){var e=this.selectors.promo,i=this;if(0<$(e.wrap).length){var a=this.options.promo.cookieName,t=this.getCookie(a),o=0<$(".use-sticky").length;null!=t&&null!=t&&"null"!=t||$(e.wrap).slideDown(300,function(){o&&(992<=i.data.cacheWindowWidth?i.updateThresholdMenu($(e.wrap).outerHeight()):i.updateThresholdMenu(i.data.thresholdMenuWithPromotion)),$(e.list).addClass("run"),$(e.wrap).removeClass("close")}),$(document).on("click touchend",e.closeBtn,function(t){t.preventDefault(),$(e.wrap).slideUp(300,function(){o&&(992<=i.data.cacheWindowWidth?i.updateThresholdMenu(-1*$(e.wrap).outerHeight()):i.updateThresholdMenu(-1*i.data.thresholdMenuWithPromotion)),$(e.list).removeClass("run"),$(e.wrap).addClass("close")}),i.setCookie(a,1,1)})}},initBackTopButton:function(){$("#back-top").length&&$(document).on("click touchend","#back-top a",function(){return $("body,html").animate({scrollTop:0},800),!1})},initCookieConsent:function(){if(theme.enableCookieConsent){var i=this;setTimeout(function(){var e="cookie_consent";null==i.getCookie(e)&&i.loadSnippetAjax("cookie-consent",function(){0<$(".cookie_consent").length&&($(".cookie_consent").slideDown(300),$(document).on("click",".cookie_consent__close",function(t){t.preventDefault(),i.setCookie(e,1,365),$(".cookie_consent").slideUp(300)}))})},9e3)}},initPopupVideo:function(){var a=this,o=this.selectors.popupVideo;$(document).on("click",o.btn,function(t){if(t.preventDefault(),!a.data.modalVideoWorking){var i=$(this);new Promise(function(t,e){a.data.modalVideoWorking=!0,-1<theme.loadedLibs.indexOf("modalvideo")?t(i):a.loadCssJsLib("modalvideo",function(){$(o.youtubeBtn).modalVideo(),$(o.vimeoBtn).modalVideo({channel:"vimeo"}),t(i)})}).then(function(t){a.data.modalVideoWorking=!1;var e=t.attr("data-video-id");"youtube"==t.attr("data-video-type")?($(o.youtubeBtn).attr("data-video-id",e),$(o.youtubeBtn).trigger("click")):($(o.vimeoBtn).attr("data-video-id",e),$(o.vimeoBtn).trigger("click"))},function(t){})}})},loadWishlist:function(i){var a=this,o=this.selectors.wishlist,t=this.options.wishlist.cookieName,e=this.getCookieItemsValue(!1,t);""==e||null==e?this.loadSnippetAjax("popup-wishlist",function(){var t=$(o.popup).find(".content");a.appendWishlistEmtptyStr(t),a.data.wishlist.loaded=!0,i&&i()}):this.callAjax(theme.rootUrl,"GET",{view:"wishlist",q:e},null,function(e){a.loadSnippetAjax("popup-wishlist",function(){var t=$(o.popup).find(".content");t.html(a.stripScripts(e)),t.hasClass("grid")||t.addClass("grid grid--medium"),a.applyCustomColorSwatches(t),a.convertCurrencySilence(t.find("span.money")),a.reLoadReview(t),a.data.wishlist.loaded=!0,i&&i()})})},popularAddedWishlistItems:function(t){if(theme.enableWishlist){"string"==typeof t&&(t=$(t));var i=this.selectors.wishlist,e=this.options.wishlist.cookieName,a="",o="",s=this.getCookieItemsValue(!0,e);0<s.length&&$.each(s,function(t,e){""!=a&&(a+=",",o+=","),a+=i.btn+'[data-handle="'+e+'"]',o+=i.btnWithText+'[data-handle="'+e+'"] '+i.btnText}),t.find(a).addClass("added").attr("title",theme.strings.addedWishlistTitle),t.find(o).text(theme.strings.addedWishlistTitle)}},appendWishlistEmtptyStr:function(t){t.removeClass("grid grid--medium"),t.html('<div class="alert alert-danger"><span>'+theme.strings.wishlistEmpty+"</span></div>")},initWishlist:function(){if(theme.enableWishlist){var a=this.selectors.wishlist,o=this.options.wishlist.cookieName,s=this,t=this.getCookieItemsValue(!0,o),i="working";this.popularAddedWishlistItems("body"),$(a.number).text(t.length),$(document).on("click",a.btn,function(t){t.preventDefault();var e=$(this).attr("data-handle");$(this);s.isProductExistInCookie(e,o)?(s.removeProductFromCookie(e,o),$(a.btn+'[data-handle="'+e+'"]').removeClass("added").attr("title",theme.strings.addWishlistTitle),$(a.btnWithText+'[data-handle="'+e+'"] '+a.btnText).text(theme.strings.addWishlistTitle)):(s.addProductToCookie(e,o),$(a.btn+'[data-handle="'+e+'"]').addClass("added").attr("title",theme.strings.addedWishlistTitle),$(a.btnWithText+'[data-handle="'+e+'"] '+a.btnText).text(theme.strings.addedWishlistTitle)),$(a.btn+'[data-handle="'+e+'"][data-toggle="tooltip"]').tooltip("fixTitle"),$(a.number).text(s.getCookieItemsValue(!0,o).length),s.data.wishlist.loaded=!1,$(a.headerLink+" i").addClass(s.selectors.ringClass)}),$(document).on("click",a.removeBtn,function(t){t.preventDefault();var e=$(this).attr("data-handle");if(s.removeProductFromCookie(e,o),$(a.number).text(s.getCookieItemsValue(!0,o).length),$(a.btn+'[data-handle="'+e+'"]').removeClass("added").attr("title",theme.strings.addWishlistTitle),$(a.btn+'[data-handle="'+e+'"][data-toggle="tooltip"]').tooltip("fixTitle"),$(a.btnWithText+'[data-handle="'+e+'"] '+a.btnText).text(theme.strings.addWishlistTitle),$(a.popup+' .item[data-product-handle="'+e+'"]').remove(),0==$(a.popup).find(".item").length){var i=$(a.popup).find(".content");s.appendWishlistEmtptyStr(i)}}),$(document).on("click",a.headerLink,function(t){t.preventDefault();var e=$(this);e.hasClass(i)||(e.addClass(i),s.data.wishlist.loaded?(s.showPopup(a.popup),e.removeClass(i)):(s.showLoadingFull(),s.loadWishlist(function(){s.hideLoadingFull(),s.showPopup(a.popup),e.removeClass(i)})))})}},initExpandTrigger:function(){var a="working";$(document).on("click touchend",".expand-trigger",function(t){if(t.preventDefault(),!$(this).hasClass("working")){var e=$(this);e.addClass("working");var i="slideDown";e.hasClass("open")&&(i="slideUp"),e.toggleClass("open"),"slideDown"==i?e.siblings(".expand-content").slideDown(300,function(){e.removeClass(a)}):e.siblings(".expand-content").slideUp(300,function(){e.removeClass(a)})}})},initResizeWindowTrigger:function(){this.data.cacheWindowWidth=$(window).width();var i=this;$(window).resize($.debounce(250,function(t){var e=$(window).width();i.data.cacheWindowWidth!==e&&(i.data.cacheWindowWidth=$(window).width(),$(window).trigger(i.data.resizeEventName))}))},initScrollingWindow:function(){var i=0,a=this;$(window).scroll($.throttle(100,function(t){var e=window.pageYOffset||document.documentElement.scrollTop;i<e?$(window).trigger(a.data.scrollEventName,["down"]):$(window).trigger(a.data.scrollEventName,["up"]),i=e<=0?0:e})),$(window).on(this.data.resizeEventName,function(t){var e=window.pageYOffset||document.documentElement.scrollTop;i=e<=0?0:e})},initScrollingWindowTriggerOnce:function(t,e,i,a){i=null!=i?i:0;var o=t.offset().top+i;if(window.pageYOffset+window.innerHeight>o)a();else{var s=!1,n="scroll."+e,r=this.data.resizeEventName+".scroll_"+e;$(window).on(n,$.throttle(250,function(t){window.pageYOffset+window.innerHeight>o&&($(window).off(n),$(window).off(r),s||(s=!0,a()))})),$(window).on(r,function(){s?$(window).off(r):setTimeout(function(){o=t.offset().top+i,window.pageYOffset+window.innerHeight>o&&($(window).off(n),$(window).off(r),s||(s=!0,a()))},300)})}},destroyScrollingWindowTriggerOnce:function(t){$(window).off("scroll."+t),$(window).off(this.data.resizeEventName+".scroll_"+t)},renderColumnsAjaxLoading:function(t,e){for(var i="",a=0;a<e;a++)i+='<div class="pcol__item item dib w100 gutter-ele-bottom"><div class="flex flex-wrap flex-align-space-between"><div class="pcol__item__left col-xs-4 no-gutter--left"><div class="item__image img-container loading" style="padding-top:130%;"></div></div><div class="pcol__item__right col-xs-8 no-gutter"><span class="db w100 loading" style="height:20px;"></span><div class="gutter-ele-top"><span class="db w100 loading" style="height:20px;"></span></div><div class="gutter-ele-top"><span class="db w100 loading" style="height:20px;"></span></div></div></div></div>';t.html(i)},loadProductColumnsAjax:function(i){var a="working",o=this;i.hasClass("load-product-columns-ajax")&&this.loadCssJsLib("waypoint",function(){var e=i.waypoint(function(t){i.hasClass(a)||(e[0].destroy(),i.addClass(a),i.find(".pcol__items").each(function(){o.renderColumnsAjaxLoading($(this),parseInt($(this).attr("data-limit")))}),o.renderSectionByAjaxApi(i.attr("data-section-id"),{},function(t){i.find(".pcol__items").each(function(){$(this).html($("#"+$(this).attr("id"),t).html()),$(this).removeClass("waiting-data")}),o.addProductMetaData(i,!0),o.initSlider(i,!1,!1)}))},{triggerOnce:!0,offset:"100%"})})},addProductRecentView:function(t){theme.enableRecentView&&this.addProductToCookie(t,this.options.recentView.cookieName)},loadRequireCss:function(){if(0<theme.requireCss.length){var i=this;$(theme.requireCss).each(function(t,e){i.loadCssJsLib(e)})}},initRingAnimation:function(){var t=this;$(document).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",".ring-animation",function(){$(this).removeClass(t.selectors.ringClass)})},initProductCustomFields:function(){$(document).on("change",".pg__field__ele",function(){var t=$($(this).attr("data-target"));if(t.hasClass("pg__field__group-checkbox")){var e=[];$(this).parents(".pg__field").find(".pg__field__ele").each(function(){$(this).is(":checked")&&e.push($(this).val())}),t.val(e.join(", "))}else $(this).is(":checked")?t.prop("checked",!0):t.prop("checked",!1);t.valid()}),$(document).on("click",".pg__field__radio",function(){var t=$($(this).attr("data-target"));t.val($(this).val()),t.valid()})},initModalLink:function(){var e=this;$(document).on("click",".modal-link",function(t){t.preventDefault(),e.showPopup($(this).attr("data-target"))})},init:function(){this.initFloatField(),this.initMobileNavigation(),this.initSearchSuggestion(),this.initResizeWindowTrigger(),this.initScrollingWindow(),this.initDropdown(),this.initProductGroup(),this.initCartEvent(),this.initQtyBox(),this.refreshSliderInTabs(),this.initQuickView(),this.initSelectOption(),this.initCompareEvent(),this.initWishlist(),this.initLoadMoreBtn(),this.initRecommendedProducts(),this.initNewsletterPopup(),this.initCookieConsent(),this.initExpandTrigger(),this.initOverlay(),this.initModalLink(),this.rteWrap("body .rte"),setTimeout(function(){this.updateFaviconBadge(theme.cartNumber),this.initBackTopButton(),this.initAgreeCartTems(),this.initPopupVideo(),this.initProductCustomFields()}.bind(this),500),theme.disableCopy&&document.addEventListener("contextmenu",function(t){t.preventDefault()}),$(document).one("touchstart",function(){this.data.isTouchDevide=!0}.bind(this)),BT.detectAutoFields(),BT.initSidebar(),setTimeout(function(){BT.data.pageLoaded=!0,BT.initRingAnimation(),BT.initStickyMenu()},500)}};